<%- include('../partials/header') %>
<div class="container" style="max-width: 800px; margin: 50px auto; text-align: center;">
  <!-- Centered Header with Title and Image Placeholder -->
  <div class="d-flex align-items-center justify-content-center mb-4">
    <img src="/assets/img/patientVC.png" alt="Placeholder Image" style="width: 150px; height: 80px; margin-right: 0 px;">
    <h1 style="color: #000; font-size: 2.5rem;">Swasthya Samvad</h1>
  </div>
  
  <div class="card" style="background: #FFF9E5; border: 1px solid #007BFF; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); overflow: hidden;">
    <% if (roomUrl) { %>
      <!-- When the video call is active -->
      <div class="card-body" style="padding: 30px;">
        <h2 class="mb-4" style="color: #000;">Video Consultation</h2>
        <div id="videoContainer">
          <iframe src="<%= roomUrl %>" style="width: 100%; height: 500px; border: none;" allow="camera; microphone; fullscreen"></iframe>
        </div>
      </div>
    <% } else { %>
      <!-- Form to start a consultation -->
      <div class="card-body" style="padding: 30px;">
        <h2 class="mb-4" style="color: #000;">Video Consultation</h2>
        <form action="/patient/video-consult" method="POST">
          <div class="form-group" style="margin-bottom: 15px;">
            <select name="specialty" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">
              <% specialties.forEach(function(specialty) { %>
                <option value="<%= specialty %>"><%= specialty %></option>
              <% }); %>
            </select>
          </div>
          <button type="submit" class="btn btn-primary" style="width: 100%; padding: 10px; border: none; border-radius: 4px;">
            Start Consultation
          </button>
        </form>
      </div>
    <% } %>
  </div>
</div>
<%- include('../partials/footer') %>
